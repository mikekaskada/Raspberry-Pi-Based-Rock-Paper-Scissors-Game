## Έργο 1: Πέτρα, Ψαλίδι, Χαρτί με χρήση Teachable Machine και Raspberry Pi

Αυτό το έργο αποτελείται από τρία μέρη:
- **Δημιουργία και επεξεργασία Δεδομένων**, δηλ εικόνων, για το Teachable Machine
- **Εκπαίδευση μοντέλου ΤΝ με Teachable Machine**: Ένα μοντέλο Τεχνητής Νοημοσύνης (ΤΝ) εκπαιδεύτηκε να αναγνωρίζει τις χειρονομίες "Πέτρα, Ψαλίδι, Χαρτί" μέσω της πλατφόρμας Teachable Machine.
- **Παιχνίδι με το Raspberry Pi**: Το Raspberry Pi χρησιμοποιήθηκε για να αναγνωρίζει τις χειρονομίες του παίκτη μέσω της κάμεράς του και να παίζει το παιχνίδι με τυχαίο τρόπο.

## Λειτουργικό σύστημα
Μετά από πολλές δυσκολίες και προβλήματα με την εγκατάσταση των απαραίτητων βιβλιοθηκών της Python για την τεχνητή νοημοσύνη, είτε μέσω της εντολής `apt install`, είτε μέσω εικονικού περιβάλλοντος Python (`pip install`) για την βιβλιοθήκη Picamera2, καταλήξαμε στο λειτουργικό **Raspberry Pi 4 Bullseye DNN image**:  _A Raspberry Pi 4 Bullseye 64-OS image with deep learning examples_ από την ομάδα [Q-engineering](https://github.com/Qengineering/RPi-Bullseye-DNN-image).
Λεπτομέρειες για το λειτουργικό σύστημα και τον εξολπισμό υπάρχουν στο αρχείο [Εξοπλισμός.pdf](https://github.com/mikekaskada/Raspberry-Pi-Based-Rock-Paper-Scissors-Game/blob/main/Project_1/%CE%95%CE%BE%CE%BF%CF%80%CE%BB%CE%B9%CF%83%CE%BC%CF%8C%CF%82.pdf).

## Raspberry Pi Camera Module 3
Η [Raspberry Pi Camera Module V3](https://datasheets.raspberrypi.com/camera/camera-module-3-product-brief.pdf) είναι μια συμπαγής κάμερα από την Raspberry Pi. Διαθέτει έναν αισθητήρα IMX708  12-megapixel με HDR και υποστηρίζει αυτόματη εστίαση με ανίχνευση φάσης.
Χρειάστηκε να αντικατασταθεί το καλώδιο (cable ribbon) που έχει με άλλο μακρύτερο μήκους 1 m. 

Εκτυπώσαμε με 3D εκτύπωση μια θήκη για την κάμερα [Raspberry Pi Camera Stand for PiCam v3](https://www.thingiverse.com/thing:5805000).

![camera case](https://github.com/mikekaskada/Raspberry-Pi-Based-Rock-Paper-Scissors-Game/blob/main/Project_1/Images/camera%20case.jpg)  

Η κάμερα τοποθετήθηκε πάνω σε στοίβα βιβλίων και κουτιών περίπου 1 m πάνω από την επιφάνεια ενός τραπεζιού. 
Στη βάση της στοίβας τοποθετήσαμε ανεστραμμένο ένα πίνακα και πάνω στον πίνακα ένα σουπλά με την λευκή επιφάνεια προς τα πάνω.

![books](https://github.com/mikekaskada/Raspberry-Pi-Based-Rock-Paper-Scissors-Game/blob/ce576b718da82a72690bebc52997ac0bb25e20ec/Project_1/Images/camera%20on%20top%20of%20books.jpg) ![base](https://github.com/mikekaskada/Raspberry-Pi-Based-Rock-Paper-Scissors-Game/blob/main/Project_1/Images/surface%20with%20white%20background.jpg)  

Με το μονόχρωμο (άσπρο) υπόβαθρο ήταν πιο εύκολη η αναγνώριση και κατηγοριοποίηση της φωτογραφίας αργότερα από το πρόγραμμα.
## Δημιουργία και επεξεργασία Δεδομένων, δηλ. εικόνων, για το Teachable Machine

## Capture images.py
Αφού τοποθετήσουμε την camera όπως περιγράψαμε πριν, κάνουμε τις κατάλληλες χειρονομίες και πατάμε τα πλήκτρα "p" (paper=χαρτί), "r" (rock=πέτρα) ή "s" (scissors=ψαλίδι) και το Raspberry Pi καταγράφει την εικόνα και την τοποθετεί στον αντίστοιχο φάκελο. Φροντίζουμε να πάρουμε εικόνες με διαφορετικές συθήκες φωτεινότητας, προσανατολισμού, απόστασης από την κάμερα. Ένα πράσινο τετράγωνο μας δείχνει την περιοχή στην οποία πρέπει να βρίσκεται το χέρι μας. 

![base](https://github.com/mikekaskada/Raspberry-Pi-Based-Rock-Paper-Scissors-Game/blob/main/Project_1/Images/surface%20with%20white%20background.jpg) 

### Ανάλυση του Κώδικα "Capture images.py"

Ο κώδικας "capture_images.py" χρησιμοποιεί τη βιβλιοθήκη OpenCV και την Picamera2 για την καταγραφή εικόνων από την κάμερα του Raspberry Pi και την αποθήκευση τους σε φακέλους με βάση ετικέτες ("paper", "scissors", "rock"). Ακολουθεί η ανάλυση του κώδικα:

#### Βιβλιοθήκες που χρησιμοποιούνται

Ο κώδικας χρησιμοποιεί τις ακόλουθες βιβλιοθήκες:
- `cv2`: Χρησιμοποιείται για λειτουργίες υπολογιστικής όρασης.
- `numpy`: Χρησιμοποιείται για τη διαχείριση πινάκων και μαθηματικών υπολογισμών.
- `Picamera2`: Χρησιμοποιείται για τη διαχείριση της κάμερας στο Raspberry Pi.
- `os`: Χρησιμοποιείται για λειτουργίες συστήματος αρχείων.
- `datetime`: Χρησιμοποιείται για τη διαχείριση ημερομηνιών και ωρών.

#### Αρχικοποίηση της Κάμερας και Ρύθμιση του Παραθύρου

Η κάμερα αρχικοποιείται και ρυθμίζεται η ανάλυση σε 800x600 pixels.

#### Δημιουργία Φακέλων

Ο κώδικας δημιουργεί τους φακέλους "paper", "scissors" και "rock" αν δεν υπάρχουν ήδη.

#### Συνάρτηση για Καταγραφή και Αποθήκευση Εικόνας

Υπάρχει μία συνάρτηση που καταγράφει την εικόνα μέσα σε ένα τετράγωνο 300x300 pixels, καταγράφει μόνον την εικόνα μέσα στο τετράγωνο, της αλλάζει το μέγεθος σε 224x224 pixels, γιατί αυτό είναι το κατάλληλο μέγεθος για έγχρωμη εικόνα για το **Teachable Machine** και την αποθηκεύει στον κατάλληλο φάκελο με βάση την ετικέτα.

![image](https://github.com/mikekaskada/Raspberry-Pi-Based-Rock-Paper-Scissors-Game/blob/d97a19e20f321758c61ad39ec6d97e77433cb65e/Project_1/Images/scissors_0009.png)

#### Κύριος Βρόχος

- Καταγράφει συνεχώς εικόνες από την κάμερα.
- Υπολογίζει τις συντεταγμένες του κέντρου και σχεδιάζει ένα τετράγωνο στο κέντρο της εικόνας.
- Εμφανίζει την εικόνα με οριζόντια αναστροφή.
- Ανάλογα με το πάτημα του κουμπιού ('P', 'S', 'R'), καταγράφει και αποθηκεύει την εικόνα στο αντίστοιχο φάκελο.
- Με το πάτημα του πλήκτρου Escape, τερματίζει το πρόγραμμα.

#### Καθαρισμός

Στο τέλος, τερματίζει τα παράθυρα του OpenCV και σταματά την κάμερα.

### Εγκατάσταση Βιβλιοθηκών
Για να εκτελέσετε αυτόν τον κώδικα, χρειάζεται να εγκαταστήσετε τις απαραίτητες βιβλιοθήκες. Ακολουθήστε τα παρακάτω βήματα:
Εγκατάσταση OpenCV

```pip install opencv-python```

Εγκατάσταση NumPy

```pip install numpy```

Εγκατάσταση Picamera2

Αυτό μπορεί να χρειαστεί συγκεκριμένες οδηγίες ανάλογα με το λειτουργικό σύστημα του Raspberry Pi. Μπορείτε να ακολουθήσετε τις οδηγίες από την επίσημη τεκμηρίωση της Picamera2.
```
sudo apt update
sudo apt install python3-picamera2
```

Μετά την εγκατάσταση των βιβλιοθηκών, μπορείτε να εκτελέσετε το script "capture_images.py" για να καταγράψετε εικόνες από την κάμερα του Raspberry Pi.

